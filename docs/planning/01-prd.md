# 01. 제품 요구사항 정의서 (PRD)

## 프로젝트 개요

**프로젝트명**: 일상킷 (ilsangkit)
**슬로건**: 내 주변 생활 편의 정보, 한 번에 찾기
**목표**: 흩어진 생활 편의 정보를 한 곳에 모아 위치 기반으로 빠르게 검색

---

## MVP 캡슐

| # | 항목 | 내용 |
|---|------|------|
| 1 | 목표 | 흩어진 생활 편의 정보를 한 곳에 모아 위치 기반으로 빠르게 검색 |
| 2 | 페르소나 | 모든 사람 (단순한 UI로) |
| 3 | 핵심 기능 | 위치 기반 생활 편의 정보 통합 검색 |
| 4 | 성공 지표 (노스스타) | 월간 방문자 수 (6개월 후 10만 목표) |
| 5 | 입력 지표 | 페이지뷰, 검색 횟수 |
| 6 | 비기능 요구 | SEO 최적화 (SSR/SSG), **반응형 웹 (Mobile First)** |
| 7 | Out-of-scope | 회원가입/로그인, 개인화 추천 |
| 8 | Top 리스크 | SEO/마케팅으로 노출 안 됨 |
| 9 | 완화/실험 | Nuxt SSR/SSG 활용, 지역+키워드 페이지 대량 생성 |
| 10 | 다음 단계 | 공공데이터 API 연동, 프로젝트 구조 생성 |

---

## 문제 정의

### 현재 상황
- 쓰레기 배출일, 공공화장실, 무료 와이파이 등 생활 편의 정보가 각각 다른 사이트/앱에 흩어져 있음
- 필요할 때마다 여러 사이트를 검색해야 함
- 지자체별로 제공 방식이 달라 정보 접근성이 낮음

### 해결책
- 공공데이터 API를 활용해 생활 편의 정보를 한 곳에 통합
- 위치 기반 검색으로 내 주변 정보를 빠르게 제공
- SEO 최적화로 검색엔진에서 쉽게 찾을 수 있도록 함

---

## 페르소나

### 주요 타겟
- **모든 사람**: 생활 편의 정보가 필요한 누구나
- **특성**: 검색엔진을 통해 정보를 찾는 일반 사용자

### 타겟 디바이스
| 디바이스 | 화면 크기 | 사용 비율 (예상) | 우선순위 |
|----------|----------|----------------|---------|
| **Mobile** | < 640px | 60% | 최우선 (Mobile First) |
| **Tablet** | 640px ~ 1024px | 15% | 중간 |
| **Desktop** | > 1024px | 25% | 표준 |

> 생활 편의 정보 특성상 이동 중 모바일 검색이 주요 사용 시나리오

### 사용 시나리오
1. "강남역 근처 공공화장실" 검색 → 일상킷 페이지 노출 → 지도에서 확인
2. "서초구 쓰레기 배출일" 검색 → 해당 지역 쓰레기 배출 정보 제공
3. "홍대 무료 와이파이" 검색 → 주변 무료 와이파이 위치 목록

---

## 핵심 기능 (MVP)

### 1. 통합 검색
- 키워드 + 위치 기반 검색
- 카테고리 필터 (공공화장실, 쓰레기배출, 와이파이, 의류수거함, 무인민원발급기, 공영주차장, AED, 공공도서관)
- 검색 결과 목록 뷰

### 2. 지도 뷰
- 검색 결과 지도 표시
- 현재 위치 기반 주변 검색
- 마커 클릭 시 상세 정보

### 3. 상세 정보 페이지
- 시설/정보 상세 내용
- 주소, 운영시간 등
- SEO 최적화된 개별 페이지

### 4. 지역별 페이지 (SEO)
- `/[city]/[district]/[category]` 형태의 지역별 페이지
- 검색엔진 노출용 대량 페이지 생성

---

## MVP 데이터 (Phase 1 ~ Phase 9)

### 현재 구현된 8개 카테고리

| 카테고리 | 데이터 번호 | API 가용성 | 출처 | 상태 | 건수 |
|---------|-----------|----------|------|------|------|
| 공공화장실 | 15012892 | REST API | data.go.kr | ✅ 구현 완료 | ~3만 |
| 생활쓰레기 배출 | 15155080 | REST API (Open) | data.go.kr | ✅ 구현 완료 | 지역 기반 |
| 무료 와이파이 | 15013116 | REST API | data.go.kr | ✅ 구현 완료 | ~2만 |
| 의류수거함 | 15139214 | REST API | data.go.kr | ✅ 구현 완료 | ~5천 |
| 무인민원발급기 | 15154774 | REST API | data.go.kr | ✅ 구현 완료 | ~300 |
| 공영주차장 | 15012896 | CSV + API | data.go.kr | ✅ 구현 완료 | ~1.5만 |
| 자동심장충격기(AED) | 15000652 | Open API (XML) | data.go.kr | ✅ 구현 완료 | ~6만 |
| 공공도서관 | 15013109 | API | data.go.kr | ✅ 구현 완료 | ~1.2천 |

> 참고: 15155080의 fileData.do는 폐기되었으나, openapi.do는 정상 운영 중

### 생활쓰레기 배출 API 필드 (확인됨)
- 시도명, 시군구명, 관리구역명 → 법정동코드 매핑 가능
- 배출 요일, 시작/종료 시각
- 배출장소 유형, 배출방법 (생활/음식물/재활용품)
- 담당부서명, 연락처

### 의류수거함 API 필드 (확인됨)
- 관리번호, 설치장소명
- 시도명, 시군구명, 주소 → 법정동코드 매핑 가능
- 위도, 경도 → 지도 표시 가능
- 관리기관명, 관리기관전화번호

### 무인민원발급기 API 필드 (확인됨)
- **엔드포인트**: `apis.data.go.kr/1741000/kiosk_info/installation_info`
- 설치장소주소, 설치장소상세위치, 설치장소위치
- 평일운영시작시각, 평일운영종료시각
- 공휴일운영시작시각, 공휴일운영종료시각
- 장애인 편의 기능 (시각장애인용 키패드, 음성안내 등)
- 관리기관 정보
- ⚠️ **위도/경도 없음** → 동기화 시 Kakao 지오코딩 API로 좌표 변환 필요

### AED API 필드 (확인됨 - XML 응답)
- **엔드포인트**: `http://apis.data.go.kr/B552657/AEDInfoInqireService/getEgytAedManageInfoInqire`
- buildAddress (주소), buildPlace (설치 상세위치)
- org (설치기관명), clerkTel (담당자 전화)
- mfg (제조사), model (모델명)
- 요일별 운영시간 (요일별 시작/종료 시간)
- wgs84Lat, wgs84Lon (위도, 경도 - WGS84)

---

## 상세 페이지 정보 전략

### 전략 개요
- **저장**: 카테고리별 독립 테이블의 typed column으로 저장 (초기 설계의 details JSON 전략에서 변경됨)
- **표시**: 프론트엔드에서 카테고리별로 필요한 필드만 렌더링
- **처리**: null/undefined 필드는 UI에서 숨김 처리

### 카테고리별 상세 페이지 주요 표시 정보

| 카테고리 | 주요 표시 정보 |
|----------|---------------|
| 공공화장실 | 운영시간, 화장실 수(남/여/공용), 장애인/어린이 화장실, 기저귀교환대, 비상벨 |
| 쓰레기 배출 | 쓰레기 종류, 수거 요일/시간, 배출 방법, 수거 구역, 담당 부서 연락처 |
| 무료 와이파이 | SSID, 설치 위치, 서비스 제공자, 보안 유형, 속도 등급, 운영 상태 |
| 의류수거함 | 관리번호, 설치 위치, 수거 가능 품목, 수거 주기, 관리기관 연락처 |
| 무인민원발급기 | 평일/토요일/공휴일 운영시간, 발급 가능 서류, 장애인 편의시설 정보 |
| 공영주차장 | 주차구분, 주차장유형, 주차면수, 요금체계, 운영시간, 결제방법, 장애인주차구역 |
| AED | 설치위치, 설치기관, 제조사, 모델명, 요일별 운영시간 |
| 공공도서관 | 도서관유형, 운영시간, 휴관일, 장서수, 열람좌석수, 홈페이지 |

---

## 성공 지표

### 노스스타 지표
- **월간 방문자 수**: 6개월 후 10만 목표

### 입력 지표
| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 페이지뷰 | 월 30만 | Google Analytics |
| 검색 횟수 | 월 5만 | 서버 로그 |
| 평균 체류 시간 | 2분 이상 | Google Analytics |
| 검색엔진 노출 | 상위 10위 내 | Google Search Console |

---

## Out-of-Scope (MVP)

- 회원가입/로그인
- 개인화 추천
- 즐겨찾기 기능
- 사용자 리뷰/평점
- 모바일 앱

---

## 리스크 및 완화 전략

| 리스크 | 영향 | 완화 전략 |
|--------|------|----------|
| SEO/마케팅 노출 부족 | 치명적 | Nuxt SSR/SSG, 지역+키워드 페이지 대량 생성 |
| 공공데이터 API 불안정 | 높음 | 데이터 DB 동기화 후 자체 서빙 |
| 지자체별 데이터 불일치 | 중간 | 데이터 정규화 스키마 설계 |
| 모바일 UX 미흡 | 높음 | Mobile First 설계, 터치 최적화 |
| 8개 카테고리 관리 복잡성 | 중간 | 레지스트리 패턴으로 확장 용이성 확보 |

---

## 현재 구현 현황

### 완료된 Phase
- Phase 0: 프로젝트 셋업 ✅
- Phase 1: 백엔드 핵심 API ✅
- Phase 2: 공공데이터 동기화 (6개 카테고리) ✅
- Phase 3: 프론트엔드 핵심 UI ✅
- Phase 4: 지도 연동 ✅
- Phase 5: SEO 최적화 ✅
- Phase 6: 배포 & 모니터링 ✅
- Phase 7: 디자인 목업 반영 ✅
- Phase 8: 기술 부채 해결 ✅
- Phase 9: 신규 카테고리 추가 (공영주차장, AED, 공공도서관) ✅

### 진행 중 / 예정 Phase
- Phase 10: 리팩토링 (레지스트리 패턴, 동기화 공통 추상화)
- Phase 11 이상: 추가 카테고리 확장 (전기차 충전소, 약국 등)
