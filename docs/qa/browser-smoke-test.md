# 브라우저 스모크 테스트 시나리오

## 개요

프로덕션 배포 후 각 브라우저에서 핵심 기능이 동작하는지 빠르게 확인하기 위한 수동 스모크 테스트 시나리오입니다.

**예상 소요 시간**: 브라우저당 약 5분

---

## 사전 준비

### 테스트 환경
- **URL**: https://ilsangkit.co.kr
- **계정**: 필요 없음 (공개 서비스)
- **네트워크**: Wi-Fi 및 모바일 데이터 (4G/5G)

### 테스트 데이터
- **테스트 위치**: 서울시청 (37.5665, 126.9780)
- **테스트 키워드**: "강남역", "서초", "화장실"

---

## 시나리오 1: 홈 페이지 접속 및 카테고리 탐색

### 목적
초기 로딩 및 기본 네비게이션 확인

### 단계

1. **브라우저 실행 및 접속**
   - 브라우저 열기
   - `https://ilsangkit.co.kr` 접속

2. **홈 페이지 렌더링 확인**
   - [ ] 로고 및 헤더가 정상 표시됨
   - [ ] 히어로 섹션 배경 이미지가 로드됨
   - [ ] 8개 카테고리 카드가 그리드로 표시됨
   - [ ] 폰트가 깨지지 않고 정상 렌더링됨

3. **카테고리 클릭**
   - "화장실" 카테고리 카드 클릭
   - [ ] `/search?category=toilet` 페이지로 이동
   - [ ] 화장실 시설 목록이 표시됨

4. **홈으로 돌아가기**
   - 로고 클릭
   - [ ] 홈 페이지로 돌아옴

### 예상 결과
- 모든 이미지와 아이콘이 정상 로드됨
- 페이지 전환이 부드러움 (로딩 < 2초)
- 레이아웃이 깨지지 않음

### 실패 시 확인 사항
- 콘솔 에러 메시지
- 네트워크 요청 실패 여부
- CSS 로딩 상태

---

## 시나리오 2: 위치 기반 검색

### 목적
Geolocation API 및 지도 렌더링 확인

### 단계

1. **검색 페이지 접속**
   - 헤더에서 "지도" 클릭 (또는 `/search` 직접 접속)

2. **현재 위치 버튼 클릭**
   - Desktop: 좌측 필터 영역의 "현재 위치" 버튼
   - Mobile: 검색바 옆의 위치 아이콘 버튼
   - [ ] 브라우저 위치 권한 팝업 표시됨

3. **권한 허용**
   - "허용" 버튼 클릭
   - [ ] 내 위치 기반 시설 목록이 로드됨
   - [ ] 각 시설에 거리 정보 표시됨 (예: "1.2km")
   - [ ] Desktop: 지도에 마커가 표시됨
   - [ ] Mobile: "지도에서 보기" 버튼 표시됨

4. **지도 확인 (Desktop)**
   - [ ] 카카오 지도가 정상 렌더링됨
   - [ ] 내 위치에 파란색 마커 표시
   - [ ] 주변 시설에 카테고리별 마커 표시
   - [ ] 마우스 드래그로 지도 이동 가능
   - [ ] 마우스 휠로 줌 조절 가능

5. **모바일 지도 확인 (Mobile)**
   - "지도에서 보기" FAB 버튼 클릭
   - [ ] 전체화면 지도 오버레이 표시
   - [ ] 핀치 제스처로 줌 가능
   - [ ] 터치 드래그로 지도 이동 가능
   - [ ] 닫기 버튼으로 목록 복귀

### 예상 결과
- 위치 권한 요청이 정상 동작함
- 지도가 2초 이내에 렌더링됨
- 마커가 카테고리별로 색상 구분됨

### 실패 시 확인 사항
- Geolocation API 지원 여부
- HTTPS 연결 여부 (HTTP는 위치 API 불가)
- 카카오맵 SDK 로드 에러

---

## 시나리오 3: 키워드 검색 및 필터링

### 목적
검색 기능 및 카테고리 필터 확인

### 단계

1. **검색바 사용**
   - `/search` 페이지에서 검색바 클릭
   - "강남역" 입력
   - Enter 키 또는 검색 버튼 클릭

2. **검색 결과 확인**
   - [ ] "강남역" 포함된 시설 목록 표시
   - [ ] 검색 결과 개수 표시 (예: "25건")
   - [ ] 각 카드에 시설명, 주소, 거리 표시

3. **카테고리 필터 적용**
   - "화장실" 필터 칩 클릭
   - [ ] 화장실 시설만 필터링됨
   - [ ] URL이 `?keyword=강남역&category=toilet`로 변경
   - [ ] 필터 칩이 활성 상태 (파란색 배경)

4. **필터 초기화**
   - "전체" 필터 칩 클릭
   - [ ] 모든 카테고리 결과 표시

5. **검색어 지우기**
   - 검색바 우측의 X 버튼 클릭
   - [ ] 검색어가 삭제됨
   - [ ] 전체 시설 목록으로 복귀

### 예상 결과
- 검색 응답 속도 1초 이내
- 필터링이 즉각 반영됨
- 뒤로가기 버튼으로 이전 검색 상태 복원

### 실패 시 확인 사항
- API 응답 상태 코드
- 네트워크 타임아웃 여부
- 검색 파라미터 인코딩 이슈

---

## 시나리오 4: 시설 상세 정보 조회

### 목적
상세 페이지 렌더링 및 외부 링크 동작 확인

### 단계

1. **시설 카드 클릭**
   - 검색 결과에서 첫 번째 시설 카드 클릭
   - [ ] `/:category/:id` 페이지로 이동

2. **상세 정보 확인**
   - [ ] 시설명이 헤더에 표시됨
   - [ ] 주소, 전화번호, 운영 시간 표시
   - [ ] 단일 마커가 표시된 지도 렌더링
   - [ ] 지도 중심이 시설 위치로 이동

3. **인터랙션 테스트**
   - "주소 복사" 버튼 클릭
   - [ ] 클립보드에 주소 복사됨
   - [ ] "복사되었습니다" 토스트 메시지 표시

4. **외부 링크 (모바일만)**
   - 전화번호 클릭
   - [ ] 전화 앱 실행 또는 다이얼 팝업 표시

5. **길찾기 (선택 사항)**
   - "길찾기" 버튼 클릭
   - [ ] 카카오맵 앱 또는 웹 페이지로 이동

6. **뒤로가기**
   - 브라우저 뒤로가기 버튼 클릭
   - [ ] 이전 검색 결과 페이지로 복귀
   - [ ] 스크롤 위치가 유지됨

### 예상 결과
- 상세 페이지 로딩 1초 이내
- 지도가 정확한 위치를 표시함
- 모든 버튼이 정상 동작함

### 실패 시 확인 사항
- 동적 라우팅 파라미터 추출 오류
- Clipboard API 권한 문제
- 외부 앱 실행 차단 여부

---

## 시나리오 5: 쓰레기 배출 일정 조회

### 목적
지역 기반 데이터 조회 및 선택 UI 확인

### 단계

1. **쓰레기 카테고리 선택**
   - 검색 페이지 상단의 "쓰레기" 필터 칩 클릭
   - [ ] 지도가 숨겨지고 지역 선택 UI 표시

2. **시/도 선택**
   - "서울특별시" 선택
   - [ ] 구/군 드롭다운이 활성화됨
   - [ ] 25개 구 목록이 로드됨

3. **구/군 선택**
   - "강남구" 선택
   - [ ] 배출 일정 카드 목록 표시
   - [ ] 담당 부서 연락처 표시

4. **지역 검색**
   - 동/지역 검색바에 "역삼" 입력
   - [ ] "역삼동" 관련 결과만 필터링됨

5. **일정 카드 확인**
   - [ ] 각 카드에 요일별 배출 품목 표시
   - [ ] 색상 코드로 품목 구분 (일반/재활용/음식물)

6. **상세 페이지 이동**
   - 첫 번째 일정 카드 클릭
   - [ ] `/trash/:id` 페이지로 이동
   - [ ] 상세 일정 테이블 표시

### 예상 결과
- 지역 선택 시 즉각 반응함
- 일정 데이터가 정확하게 표시됨
- 연락처 클릭 시 전화 앱 실행

### 실패 시 확인 사항
- API 엔드포인트 접근 가능 여부
- 지역 데이터 누락 여부
- 드롭다운 이벤트 핸들링 오류

---

## 추가 확인 사항

### 다크 모드 (모든 시나리오 반복)

1. **다크 모드 전환**
   - Desktop: 헤더 우측의 다크모드 버튼 클릭
   - Mobile: 모바일 메뉴 → 다크모드 토글
   - [ ] 전체 UI가 다크 테마로 전환됨
   - [ ] 지도도 다크 테마 적용
   - [ ] 텍스트 가독성 유지됨

2. **시스템 설정 연동**
   - OS 다크모드 설정 확인
   - [ ] 브라우저가 시스템 설정을 존중함

### 성능 체크 (Chrome DevTools)

1. **Lighthouse 실행**
   - F12 → Lighthouse 탭
   - [ ] Performance: 80 이상
   - [ ] Accessibility: 90 이상
   - [ ] Best Practices: 90 이상
   - [ ] SEO: 90 이상

2. **Core Web Vitals**
   - [ ] LCP (Largest Contentful Paint): < 2.5초
   - [ ] FID (First Input Delay): < 100ms
   - [ ] CLS (Cumulative Layout Shift): < 0.1

### 접근성 (키보드 네비게이션)

1. **Tab 키 순서**
   - Tab 키로 페이지 탐색
   - [ ] 포커스 순서가 논리적임
   - [ ] 포커스 표시가 명확함 (outline)

2. **Enter/Space 키 동작**
   - [ ] 버튼이 Enter/Space로 활성화됨
   - [ ] 링크가 Enter로 이동함

3. **Escape 키**
   - [ ] 모달/드롭다운이 Escape로 닫힘

---

## 브라우저별 특수 테스트

### Safari (iOS)

1. **100vh 높이 이슈**
   - [ ] 전체 화면 모드에서 하단 주소창에 가려지지 않음

2. **터치 지연**
   - [ ] 버튼 클릭 시 300ms 지연 없음

3. **Private 모드**
   - [ ] LocalStorage 접근 가능
   - [ ] 위치 권한 요청 정상 동작

### Samsung Internet

1. **하단 툴바**
   - [ ] FAB 버튼이 브라우저 툴바에 가려지지 않음

2. **광고 차단**
   - [ ] 기본 광고 차단이 API 호출 방해하지 않음

### Firefox

1. **WebP 이미지**
   - [ ] `.webp` 이미지가 정상 표시됨

2. **CSS Scrollbar**
   - [ ] 커스텀 스크롤바가 적용됨 (또는 기본 스크롤바 표시)

---

## 테스트 결과 기록 양식

### 브라우저: [Chrome Desktop / Safari iOS / etc.]
**버전**: [예: Chrome 120.0.6099.109]
**OS**: [예: Windows 11 / iOS 17.3]
**디바이스**: [예: Desktop / iPhone 14 Pro]
**테스트 날짜**: [2026-02-12]

| 시나리오 | 결과 | 소요 시간 | 비고 |
|---------|------|-----------|------|
| 1. 홈 페이지 접속 | ✅ 통과 | 30초 | - |
| 2. 위치 기반 검색 | ✅ 통과 | 1분 | - |
| 3. 키워드 검색 | ✅ 통과 | 45초 | - |
| 4. 시설 상세 | ✅ 통과 | 30초 | - |
| 5. 쓰레기 일정 | ✅ 통과 | 1분 | - |

**전체 소요 시간**: 4분

**발견된 이슈**:
- 없음

**추가 의견**:
- 모든 기능이 정상 동작함

---

## 긴급 회귀 테스트 (Hot Fix 후)

Hot Fix 배포 후 빠르게 확인할 핵심 3가지:

1. **홈 페이지 로딩**
   - [ ] `https://ilsangkit.co.kr` 접속 성공
   - [ ] 8개 카테고리 카드 표시

2. **검색 기본 동작**
   - [ ] 키워드 검색 결과 표시
   - [ ] 카테고리 필터 적용

3. **상세 페이지**
   - [ ] 시설 상세 정보 조회
   - [ ] 지도 렌더링

**예상 소요 시간**: 2분

---

## 자동화 가능 여부

| 시나리오 | Playwright 자동화 | 비고 |
|---------|:-----------------:|------|
| 1. 홈 페이지 접속 | ✅ | 기본 E2E 테스트 |
| 2. 위치 기반 검색 | ⚠️ | Geolocation Mocking 필요 |
| 3. 키워드 검색 | ✅ | API Mocking으로 안정화 |
| 4. 시설 상세 | ✅ | 기본 E2E 테스트 |
| 5. 쓰레기 일정 | ✅ | 기본 E2E 테스트 |

**권장**: 시나리오 1, 3, 4, 5는 자동화하고, 시나리오 2는 수동 검증

---

## 체크리스트 요약

각 브라우저에서 다음을 확인하세요:

- [ ] 홈 페이지 렌더링
- [ ] 카테고리 카드 클릭 → 검색 페이지 이동
- [ ] 현재 위치 버튼 → Geolocation API 동작
- [ ] 지도 렌더링 (Desktop + Mobile)
- [ ] 키워드 검색 + 필터링
- [ ] 시설 상세 페이지 조회
- [ ] 쓰레기 일정 지역 선택
- [ ] 다크 모드 전환
- [ ] 터치 인터랙션 (모바일)
- [ ] 뒤로가기 네비게이션

**목표**: 모든 항목이 5분 내에 통과

---

## 작성자 정보

- **작성일**: 2026-02-12
- **작성자**: test-specialist
- **Phase**: 14 (QA 문서화)
- **최종 업데이트**: 2026-02-12
