version: "2.0"
date: "2026-02-12"

screen:
  name: 지역별 카테고리 시설 목록
  route: /[city]/[district]/[category]
  file: frontend/pages/[city]/[district]/[category].vue

purpose:
  description: 특정 지역(시/도 + 구/군)의 특정 카테고리 시설 목록을 표시하고 페이지네이션 제공
  userGoals:
    - 선택한 지역의 특정 카테고리 시설 목록 확인
    - 시설 카드 클릭하여 상세 페이지로 이동
    - 페이지네이션으로 더 많은 시설 탐색
    - 다른 카테고리로 전환

layouts:
  all:
    breakpoint: "전체"
    sections:
      - breadcrumb
      - pageHeader
      - loadingOrError
      - facilitiesGrid
      - pagination
      - otherCategoriesSection

sections:
  breadcrumb:
    name: 브레드크럼
    elements:
      - Breadcrumb 컴포넌트
      - 홈 > {cityName} > {districtName} > {categoryName} 경로

  pageHeader:
    name: 페이지 헤더
    elements:
      - 제목: "{cityName} {districtName} {categoryName}"
      - 설명: "{cityName} {districtName}의 {categoryName} 위치 정보를 확인하세요."

  loadingOrError:
    name: 로딩/에러 상태
    elements:
      - 로딩: 스피너 + "시설 정보를 불러오는 중..." 메시지
      - 에러: 에러 메시지 + "다시 시도" 버튼

  facilitiesGrid:
    name: 시설 목록 그리드
    elements:
      - 빈 상태: "해당 지역에 등록된 시설이 없습니다."
      - 그리드 레이아웃 (1-2-3 컬럼 반응형)
      - FacilityCard 컴포넌트 사용

  pagination:
    name: 페이지네이션
    elements:
      - "이전" 버튼 (disabled 처리)
      - 현재 페이지 / 전체 페이지 표시
      - "다음" 버튼 (disabled 처리)

  otherCategoriesSection:
    name: 다른 카테고리 섹션
    elements:
      - 섹션 제목: "다른 카테고리"
      - 4개 카테고리 카드 (현재 카테고리 제외)
      - 그리드 레이아웃 (2-4 컬럼)

state:
  composables:
    - name: useRegionFacilities
      usage: 지역별 시설 목록 가져오기
    - name: useRegions
      usage: 지역 이름 변환
    - name: useFacilityMeta
      usage: 지역별 카테고리 페이지 SEO 메타태그 설정
  data:
    - facilities (ref<Facility[]>): 시설 목록
    - loading (ref<boolean>): 로딩 상태
    - error (ref<string | null>): 에러 메시지
    - currentPage (ref<number>): 현재 페이지
    - total (ref<number>): 전체 시설 개수
    - totalPages (ref<number>): 전체 페이지 수
  computed:
    - cityName: 시/도 한글 이름
    - districtName: 구/군 한글 이름
    - categoryName: 카테고리 한글 이름
    - breadcrumbItems: 브레드크럼 아이템 배열
    - otherCategories: 현재 카테고리를 제외한 카테고리 목록

handlers:
  facilityCardClick:
    trigger: 시설 카드 클릭
    action: FacilityCard 내부 네비게이션 (/{category}/{id})
  goToPage:
    trigger: 페이지네이션 버튼 클릭
    action: 페이지 변경 후 loadFacilities() 호출, 스크롤 상단 이동
  otherCategoryClick:
    trigger: 다른 카테고리 카드 클릭
    action: /{city}/{district}/{newCategory} 페이지로 이동
  retryClick:
    trigger: 에러 상태의 "다시 시도" 버튼 클릭
    action: loadFacilities() 재호출

seo:
  title: "{cityName} {districtName} {categoryName} - 일상킷"
  description: "{cityName} {districtName}의 {categoryName} 위치, 운영시간 등 상세 정보를 확인하세요."

dataRequirements:
  - resource: 지역별 카테고리 시설 목록
    endpoint: /api/facilities (추정)
    params: [city, district, category, page]
    via: useRegionFacilities.fetchFacilities()
