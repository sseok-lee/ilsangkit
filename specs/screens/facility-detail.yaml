version: "2.0"
date: "2026-02-12"

screen:
  name: 시설 상세 페이지
  route: /[category]/[id]
  file: frontend/pages/[category]/[id].vue

purpose:
  description: 특정 시설의 상세 정보를 표시하고 길찾기/공유 기능 제공
  userGoals:
    - 시설의 전체 정보 확인 (주소, 운영시간, 연락처 등)
    - 카테고리별 특화 정보 확인 (화장실 칸 수, 주차 요금, 도서관 장서 수 등)
    - 지도에서 위치 확인
    - 카카오맵 길찾기 연동
    - 시설 정보 공유

layouts:
  mobile:
    breakpoint: "< 768px"
    sections:
      - mapTop
      - backButton
      - facilityInfo
      - stickyBottomCTA
  desktop:
    breakpoint: ">= 768px"
    sections:
      - breadcrumbs
      - twoColumnLayout (좌: 정보 카드, 우: 지도 + 액션)

sections:
  mapTop:
    name: 상단 지도 (모바일)
    elements:
      - FacilityMap 컴포넌트 (240px 높이)
      - 뒤로가기 버튼 오버레이
      - 시설 이름 오버레이 (반투명 배경)
      - 그라디언트 하단 오버레이

  backButton:
    name: 뒤로가기 버튼
    elements:
      - arrow_back 아이콘
      - router.back() 동작

  facilityInfo:
    name: 시설 정보 섹션
    elements:
      - 카테고리 배지
      - 시설 이름 (h1)
      - 공유 버튼
      - 기본정보 카드 (주소, 운영시간, 연락처)
      - 시설현황 카드 (카테고리별 상세 정보)
      - 위치안내 카드

  basicInfoCard:
    name: 기본정보 카드
    elements:
      - 주소 (roadAddress 우선) + 복사 버튼
      - 운영시간 + "운영중" 배지 (24시간인 경우)
      - 전화번호 (tel: 링크)

  facilityStatusCard:
    name: 시설현황 카드 (카테고리별 상이)
    categorySpecific:
      toilet:
        - 남자/여자 화장실 칸 수
        - 남성용 소변기 개수
        - 편의시설 카드 (장애인 화장실, 기저귀 교환대, 비상벨, CCTV, 어린이 화장실)
        - 개방시간, 관리기관
      wifi:
        - SSID, 설치 장소, 서비스 제공사
        - 설치일, 관리기관, 연락처
      clothes:
        - 상세 위치, 관리기관, 연락처, 데이터 기준일
      kiosk:
        - 설치 위치, 운영기관, 공휴일 운영시간
        - 접근성 (시각장애인 키패드, 음성 안내, 점자 출력, 휠체어 접근)
        - 발급 가능 민원 (태그 형식)
      parking:
        - 요금 정보 (기본요금, 추가요금, 일 최대요금, 월정기권)
        - 기본 정보 (주차 구분, 주차장 유형, 주차면수, 운영시간, 결제방법, 전화번호, 장애인 주차구역, 특기사항)
      library:
        - 도서관유형, 운영기관, 휴관일, 좌석수, 장서수, 연속간행물, 비도서 자료, 대출가능 권수/일수
        - 운영시간 (평일, 토요일, 공휴일)
        - 홈페이지 링크
      aed:
        - 설치위치, 설치기관, 전화번호, 제조사, 모델명
        - 운영시간 (요일별)

  stickyBottomCTA:
    name: 하단 고정 CTA (모바일)
    elements:
      - "길찾기" 버튼 (카카오맵 연동)
      - near_me 아이콘

  breadcrumbs:
    name: 브레드크럼 (데스크톱)
    elements:
      - 홈 > {city} > {district} 경로

  twoColumnLayout:
    name: 2열 레이아웃 (데스크톱)
    elements:
      - 좌측: 정보 카드들 (세로 나열)
      - 우측: 고정 지도 + 액션 버튼 (공유하기, 길찾기)

state:
  composables:
    - name: useFacilityDetail
      usage: 시설 상세 정보 가져오기
    - name: useFacilityMeta
      usage: 시설 상세 페이지 SEO 메타태그 설정
    - name: useStructuredData
      usage: Place JSON-LD + Breadcrumb JSON-LD 구조화 데이터
  data:
    - facility (ref<Facility | null>): 시설 정보
    - loading (ref<boolean>): 로딩 상태
    - error (ref<Error | null>): 에러 상태
  computed:
    - categoryMeta: 카테고리 메타데이터 (라벨, 아이콘)
    - isOpen24Hours: 24시간 운영 여부
    - kakaoMapUrl: 카카오맵 길찾기 URL
    - facilityAmenities: 시설 편의사항 목록
    - hasGridContent: 그리드 영역에 표시할 콘텐츠 존재 여부
    - aedOperatingHours: AED 운영시간 (요일별 포맷팅)

handlers:
  copyAddress:
    trigger: 주소 복사 버튼 클릭
    action: navigator.clipboard.writeText() + 알림
  handleShare:
    trigger: 공유 버튼 클릭
    action: navigator.share() API 사용 (fallback: 링크 복사)
  kakaoMapNavigation:
    trigger: 길찾기 버튼 클릭
    action: 카카오맵 앱/웹 열기

seo:
  title: "{시설명} - {카테고리명} - 일상킷"
  description: "{시설명}의 위치, 운영시간, 편의시설 정보를 확인하세요. {주소}"
  structuredData: Place schema (시설 정보), Breadcrumb schema

dataRequirements:
  - resource: 시설 상세 정보
    endpoint: /api/facilities/{category}/{id}
    via: useFacilityDetail.fetchDetail()
