version: "2.0"
date: "2026-02-12"
basePath: /api/sitemap
description: 사이트맵 생성용 ID 조회 API

endpoints:
  facilities:
    path: /facilities/:category
    method: GET
    description: 시설 카테고리별 전체 ID + updatedAt 조회 (사이트맵 XML 생성용)
    tags: [sitemap, facilities]
    source: backend/src/routes/sitemap.ts:16-28

    request:
      params:
        category:
          type: string
          required: true
          enum: [toilet, wifi, clothes, kiosk, parking, aed, library]
          description: 시설 카테고리

    response:
      200:
        description: 조회 성공
        schema:
          type: object
          properties:
            success:
              type: boolean
              value: true
            data:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: string
                    description: 시설 ID
                  updatedAt:
                    type: string
                    format: date-time
                    description: 최종 수정일 (ISO 8601)

      400:
        description: 잘못된 카테고리
        schema:
          type: object
          properties:
            success:
              type: boolean
              value: false
            error:
              type: string
              value: Invalid category

  wasteSchedules:
    path: /waste-schedules
    method: GET
    description: 쓰레기 배출 일정 전체 ID + updatedAt 조회 (사이트맵 XML 생성용)
    tags: [sitemap, waste-schedules]
    source: backend/src/routes/sitemap.ts:34-40

    request: {}

    response:
      200:
        description: 조회 성공
        schema:
          type: object
          properties:
            success:
              type: boolean
              value: true
            data:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: number
                    description: 배출 일정 ID
                  updatedAt:
                    type: string
                    format: date-time
                    description: 최종 수정일 (ISO 8601)

notes:
  - description: 이 API는 프론트엔드의 sitemap.xml 생성 로직에서 사용됩니다
  - description: 모든 항목의 ID와 updatedAt을 반환하여 동적 사이트맵을 생성할 수 있습니다
  - description: 페이지네이션 없이 전체 데이터를 반환합니다
